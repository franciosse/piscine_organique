{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///media/franciosse/Data/Repos/piscine_organique/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent\n};\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///media/franciosse/Data/Repos/piscine_organique/lib/payments/actions.ts"],"sourcesContent":["'use server';\n\nimport { redirect } from 'next/navigation';\nimport { createCheckoutSession, createCustomerPortalSession } from './stripe';\nimport { withTeam } from '@/lib/auth/middleware';\n\nexport const checkoutAction = withTeam(async (formData, team) => {\n  const priceId = formData.get('priceId') as string;\n  await createCheckoutSession({ team: team, priceId });\n});\n\nexport const customerPortalAction = withTeam(async (_, team) => {\n  const portalSession = await createCustomerPortalSession(team);\n  redirect(portalSession.url);\n});\n"],"names":[],"mappings":";;;;;;IAWa,uBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///media/franciosse/Data/Repos/piscine_organique/app/%5Blocale%5D/%28dashboard%29/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle} from '@/components/ui/card';\nimport { customerPortalAction } from '@/lib/payments/actions';\nimport { TeamDataWithMembers } from '@/lib/db/schema';\nimport useSWR from 'swr';\nimport { Suspense } from 'react';\n\ntype ActionState = {\n  error?: string;\n  success?: string;\n};\n\nconst fetcher = (url: string) => fetch(url).then((res) => res.json());\n\nfunction SubscriptionSkeleton() {\n  return (\n    <Card className=\"mb-8 h-[140px]\">\n      <CardHeader>\n        <CardTitle>Team Subscription</CardTitle>\n      </CardHeader>\n    </Card>\n  );\n}\n\nfunction ManageSubscription() {\n  const { data: teamData } = useSWR<TeamDataWithMembers>('/api/team', fetcher);\n\n  return (\n    <Card className=\"mb-8\">\n      <CardHeader>\n        <CardTitle>Team Subscription</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center\">\n            <div className=\"mb-4 sm:mb-0\">\n              <p className=\"font-medium\">\n                Current Plan: {teamData?.planName || 'Free'}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">\n                {teamData?.subscriptionStatus === 'active'\n                  ? 'Billed monthly'\n                  : teamData?.subscriptionStatus === 'trialing'\n                  ? 'Trial period'\n                  : 'No active subscription'}\n              </p>\n            </div>\n            <form action={customerPortalAction}>\n              <Button type=\"submit\" variant=\"outline\">\n                Manage Subscription\n              </Button>\n            </form>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction TeamMembersSkeleton() {\n  return (\n    <Card className=\"mb-8 h-[140px]\">\n      <CardHeader>\n        <CardTitle>Team Members</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"animate-pulse space-y-4 mt-1\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"size-8 rounded-full bg-gray-200\"></div>\n            <div className=\"space-y-2\">\n              <div className=\"h-4 w-32 bg-gray-200 rounded\"></div>\n              <div className=\"h-3 w-14 bg-gray-200 rounded\"></div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\n\nexport default function SettingsPage() {\n  return (\n    <section className=\"flex-1 p-4 lg:p-8\">\n      <h1 className=\"text-lg lg:text-2xl font-medium mb-6\">Team Settings</h1>\n      <Suspense fallback={<SubscriptionSkeleton />}>\n        <ManageSubscription />\n      </Suspense>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAKA;AAEA;AACA;;;AAXA;;;;;;AAkBA,MAAM,UAAU,CAAC,MAAgB,MAAM,KAAK,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;AAElE,SAAS;IACP,qBACE,6LAAC,4HAAA,CAAA,OAAI;QAAC,WAAU;kBACd,cAAA,6LAAC,4HAAA,CAAA,aAAU;sBACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;0BAAC;;;;;;;;;;;;;;;;AAInB;KARS;AAUT,SAAS;;IACP,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAM,AAAD,EAAuB,aAAa;IAEpE,qBACE,6LAAC,4HAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,4HAAA,CAAA,aAAU;0BACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;8BAAC;;;;;;;;;;;0BAEb,6LAAC,4HAAA,CAAA,cAAW;0BACV,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;;4CAAc;4CACV,UAAU,YAAY;;;;;;;kDAEvC,6LAAC;wCAAE,WAAU;kDACV,UAAU,uBAAuB,WAC9B,mBACA,UAAU,uBAAuB,aACjC,iBACA;;;;;;;;;;;;0CAGR,6LAAC;gCAAK,QAAQ,0JAAA,CAAA,uBAAoB;0CAChC,cAAA,6LAAC,8HAAA,CAAA,SAAM;oCAAC,MAAK;oCAAS,SAAQ;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAStD;GAjCS;;QACoB,iKAAA,CAAA,UAAM;;;MAD1B;AAmCT,SAAS;IACP,qBACE,6LAAC,4HAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,4HAAA,CAAA,aAAU;0BACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;8BAAC;;;;;;;;;;;0BAEb,6LAAC,4HAAA,CAAA,cAAW;0BACV,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;;;;;0CACf,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7B;MAnBS;AAsBM,SAAS;IACtB,qBACE,6LAAC;QAAQ,WAAU;;0BACjB,6LAAC;gBAAG,WAAU;0BAAuC;;;;;;0BACrD,6LAAC,6JAAA,CAAA,WAAQ;gBAAC,wBAAU,6LAAC;;;;;0BACnB,cAAA,6LAAC;;;;;;;;;;;;;;;;AAIT;MATwB","debugId":null}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///media/franciosse/Data/Repos/piscine_organique/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// Since we're using the Edge build of Flight client for SSR [1], here we need to\n// also use the same Edge build to create the reference. For the client bundle,\n// we use the default and let Webpack to resolve it to the correct version.\n// 1: https://github.com/vercel/next.js/blob/16eb80b0b0be13f04a6407943664b5efd8f3d7d0/packages/next/src/server/app-render/use-flight-response.tsx#L24-L26\nexport const createServerReference = (\n  (!!process.env.NEXT_RUNTIME\n    ? // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client.edge')\n    : // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client')) as typeof import('react-server-dom-webpack/client')\n).createServerReference\n"],"names":["callServer","createServerReference","findSourceMapURL","process","env","NEXT_RUNTIME","require"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;AAYrBG,QAAQC,GAAG,CAACC,YAAY,GAEvBC,QAAQ,0CAERA,QAAQ;;;;;;;;;;;;;;;;;IAdLN,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IASNC,qBAAqB,EAAA;eAArBA;;IARJC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;AAQ1B,MAAMD,wBACV,CAAA,CAAC,+MAI2C,EAC7CA,qBAAqB","ignoreList":[0],"debugId":null}}]
}